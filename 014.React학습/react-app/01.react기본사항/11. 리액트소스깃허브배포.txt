[ 리액트 배포용 소스 깃허브에 호스팅하기 ]

1. 리액트 SPA 개발환경 소스를 빌드한다.

    1) 빌드 명령어: npm run build
    2) 빌드 후 build 폴더가 생성되며 다시 빌드 시 매번 갱신된다.
    3) 참고: build 폴더/node_modules 폴더는 기본적으로 깃허브 소스 관리 폴더에서 제외하여 업로드하지 않음
    

2. 깃허브 실 서버용 레파지토리를 생성한다.
3. 깃허브 pages에 서버를 공개한다. 단, 소스를 올린 후 index 파일이 있어야 한다.
4. 깃허브 실 서버용 소슥 공간에 업로드 한다.
5. pages에 공개한 주소를 복사한다.

    1) 깃허브 첫 페이지에 링크 주소를 등록한다.(편리성)
    2) 개발소스 pakage.json 파일에 '"homepage": 깃허브 주소'를 등록해준다. 배포 시에만 넣고 개발 시에는 뺀다. 있는 json을 백업
    - 깃허브 주소는 http://아이디.github.io/레파지토리명
    - 주의: 본 셋팅은 반드시 빌드 전에 넣고 빌드할 것


[ 배포 전 라우터 소스를 수정하여 빌드하기 ]

1. 깃허브는 기본적으로 SPA가 자동으로 적용되지 않는다.
2. 라우터를 사용하여 개발한 경우 최상위 라우터 컴포넌트 요소의 속성으로 아래와 같이 셋팅해줘야 한다.(안 하면 흰 화면만 나옴)

라우터를 셋팅한 index.js파일에서
<BrowserRouter basename={process.env.PUBLIC_URL}>

* basename={process.env.PUBLIC_URL}
이 속성은 pakage.json 파일에 '"homepage" 속성 값을 읽어온다.
-> 라우팅 연결 시 이 주소로 정확한 라우팅이 되도록 셋팅해준다.
-> ※ 주의: 개발 소스로 띄울 때는 주석 처리하고 아무것도 없는 BrowserRouter를 사용한다.

->> 추가 수정하기
루트로 돌아올 때 슬래시만으로 돌아오면 루트에 슬래시없는 주소가 리턴되어 이미지 경로가 깨진다.

로고를 클릭하여 첫 페이지를 띄울 때 슬래시 없는 루트 페이지를 로딩함으로 인해 이미지 경로가 깨진다. 따라서, 첫 페이지는 첫 페이지용 라우트를 따로 만들고 이것을 연결해 준다.

1) index.js
<Route path="main" element={<Main />} />

2) Layout.js - to 속성값으로 main 라우트를 연결함
<Link to="/main">
    <Logo gb="top" />
</Link>

-> Link to="/"에서 Link to="/main" 으로 변경