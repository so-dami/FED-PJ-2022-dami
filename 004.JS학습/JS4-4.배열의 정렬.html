<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS4-4. 배열의 정렬</title>

    <script>
        /* 
            [ JS 배열의 정렬 ]

            1. 용어의 정의
                1) 정렬? 배열의 값을 기준으로 순서를 다시 정하는 것
                2) 배열의 정렬은 sort() 메서드 사용
                    - sort() 메서드를 사용하여 배열의 값을 오름차순, 내림차순으로 정렬할 수 있음

            2. sort() 메서드의 특징
                1) 기본 정렬: 오름차순(1,2,3,... / a,b,c,...)
                2) 원리
                    - 배열값을 문자열로 캐스팅(형변환)한 후 변환된 문자열을 비교하여 순서를 결정함
                    - 참고: undefined 값일 경우 배열 맨 뒤에 배치

            3. sort() 메서드 비교 함수
                1) sort() 메서드 내부에 2개의 전달값을 가지는 함수를 쓰면 sort 메서드 자체에서 값을 비교하여 배열값의 순서를 바꿈
                2) 기준 정렬
                    (1) 오름차순
                        - 배열변수.sort() -> 기본 정렬
                    
                    (2) 비교 함수 사용
                        - 배열변수.sort(function(x,y){
                            if(x>y) return 1;
                            if(x<y) return -1;
                            return 0;
                        })

                    (3) 삼항연산자 사용하여 단순화하기
                        - 배열변수.sort(function(x,y){
                            return x == y? 0 : x > y ? 1 : -1;
                        })

                    (4) 리턴값의 의미
                        - if(x>y) return 1; x가 y 뒤에 옴, 리턴값 양수
                        - if(x<y) return -1; x가 y 앞에 옴, 리턴값 음수
                        - return 0; x와 y의 정렬을 유지함, 리턴값 0

        */

        // 숫자값 배열
        const org_num = [4, 5, 8, 10, 2, 1, 9, 3, 7, 6];

        // 문자값 배열
        const org_num2 = ["파", "타", "하", "가", "바", "사", "다", "라", "차"];

        window.addEventListener("DOMContentLoaded",()=>{

            // 숫자로만 된 배열의 화면 뿌리기
            // map으로 코드 대체할 예정
            // obj - 배열 객체 받음
            const newArray=(obj)=>{

                // map으로 코드 구성하기(새로운 배열)
                let temp = obj.map(x=>`

                    <img src="./images/num/num_0${x}.png" alt="Number">
                    
                `); // temp //
                
                // 배열 출력하기
                document.querySelector(".showNum").innerHTML=temp.join('');
                
            }; // newArray //

            // 배열 전달 함수 호출
            newArray(org_num);

            // 첫 번째 선택 박스 정렬 변경 이벤트 함수 만들기
            document.querySelector(".sel").onchange = e=>{

                // 선택값 확인
                let opt = e.target.value;
                console.log(opt);
                
                if(opt==1){

                    org_num.sort(function(x,y){

                        return x - y;
                        // 빼서 음수 나오면 오름차순
                        
                    });
                    
                } // if //

                else if(opt==2){

                    org_num.sort(function(x,y){

                        return y - x;
                        // 빼서 양수 나오면 내림차순

                    });
                    
                } // else if //

                // 화면에 반영하기(sort() 후에는 배열 자체가 바뀜)
                newArray(org_num);
                
            }; // change //
            
        }); // load 구역 //
        
    </script>

    <style>
        .showNum img{
            height: 100px;
        }
    </style>
    
</head>
<body>
    <h1 class="tit">배열의 정렬</h1>

        <h2>숫자로만 된 배열의 정렬</h2>
        <select name="sel" id="sel" class="sel">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>

        <div class="showNum"></div>

        <select name="sel2" id="sel2" class="sel2">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>

        <div class="showNum2"></div>

        <select name="cta" id="cta" class="cta">
            <option value="idx">idx</option>
            <option value="tit">tit</option>
            <option value="cont">cont</option>
        </select>

        <select name="sel3" id="sel3" class="sel3">
            <option value="0">정렬선택</option>
            <option value="1">오름차순</option>
            <option value="2">내림차순</option>
        </select>

        <div class="showList1">
            <table></table>
        </div>
</body>
</html>