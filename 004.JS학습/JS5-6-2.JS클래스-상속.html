<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS5-6-2. JS클래스 - 상속 + 겟터, 셋터</title>
    <script>

        /*

            [ 클래스 상속 ]

            1. 클래스 상속은 extends 키워드 사용
            2. 클래스 상속으로 생성된 자식 클래스는 부모 클래스의 모든 속성과 메서드를 상속함
            3. 상속은 코드를 재사용하는 대표적인 방법
            
            [ super() 메서드 ]

            1. 부모 클래스를 참조함
            2. 부모 생성자 메서드를 호출함
            3. 부모 클래스의 속성과 메서드에 접근 가능함
            4. 부모 클래스의 메서드는 선별적으로 가져올 수 있음
                -> super.부모 메서드()
                -> 부모 메서드 호출 시엔 super() 키워드만 사용
            _______________________________________________________________

            [ 겟터와 셋터 ]

            1. 클래스의 특정속성에 대하여 겟터와 셋터를 설정할 수 있다.
            2. 겟터(Getter) : 값을 리턴함
                get 겟터명(){
                    return this.속성변수
                }
            3. 셋터(Setter) : 값을 셋팅함
                set 셋터명(전달변수){
                    this.속성변수 = 전달변수
                }
            4. 값의 호출 : 겟터명을 변수호출함
            5. 값의 셋팅 : 셋터변수에 할당함

            (주의사항)
            -> 겟터명과 셋터명은 동일함
            -> 사용시 변수처럼 사용함(소괄호없음)
            -> 호출시엔 본래 클래스 맴버 속성을 사용할 수 있음
            -> 값셋팅은 셋터를 사용함(원본에 할당도 가능함)
            -> 겟터,셋터 사용목적은 값에 대한 유효성 검사임!
            _______________________________________________________________

            [ 상속 모델 시나리오 ]

            1. 영화진흥위원회에서 전체 영화정보에 대한 기준을 마련하여 클래스로 공개를 했다.
            2. 각 영화 상영관 사이트에서 이 기준을 따르기로 하고 클래스를 상속한다.
            3. 각 상영관은 자신에 맞는 별도의 속성과 메서드를 구현하여 사용한다.

        */

        ////////////////////////////////
        // 영화진흥위원회의 부모 클래스 //
        ////////////////////////////////
        class MovieInfo {

            // 생성자 메서드 : 주로 속성만 셋팅함
            constructor(tit, sum, dir, act, des) {
                this.제목 = tit;
                this.개요 = sum;
                this.감독 = dir;
                this.출연 = act;
                this.문구 = des;
            } // constructor //

            // 내가 만들고자 하는 메서드는 아래에 따로 생성함
            메서드(msg) {

                // msg 응원메시지 전달변수
                return `
                    영화 ${this.제목}의 
                    감독님 이름은 ${this.감독},
                    나의 응원은 ${msg}`;

            }
        } // MovieInfo class //

        
        ///////////////////////////
        // CGV 영화 상영관 클래스 //
        ///////////////////////////
        class CGV extends MovieInfo{

            // 속성 셋팅 생성자 메서드 필수
            // 기본적으로 부모 생성자 메서드의 전달 변수 사용
            constructor(tit, sum, dir, act, des, msg, num){

                // super() 메서드: 부모 생성자, 메서드 호출
                super(tit, sum, dir, act, des)

                // CGV만의 개별 속성 만들기
                this.극장안내 = msg;
                this.수용인원 = num;
                
            } // 생성자 메서드 - constructor //

            // CGV만의 메서드 만들기
            // this.메서드()는 부모 클래스의 메서드 접근이 가능함
            // super.부모 메서드() -> 이 방법으로 부모 메서드 가져오기
            // this 키워드는 자신의 모든 자원에 접근 가능(부모 + 내꺼)
            // super 키워드는 상속 받은 부모의 자원에만 접근
            show(mm){

                // mm 전달값 변수를 부모 메서드에 전달
                return super.메서드(mm) + ", CGV안내: " + this.극장안내;
                
            } // show 메서드 //

            // 겟터, 셋터 사용하기
            // 목적: 수용인원 송성값에 대한 유효성 검사 및 캡슐화
            get people(){
                return this.수용인원;
            }

            // n - 셋팅값
            set people(n){

                // 숫자가 아니면 걸러주기
                if(isNaN(n)){
                    n = 300;
                    console.log("데이터가 업데이트 되지 않았습니다.");
                } // if //
                
                else{

                    // 값 셋팅코드
                    this.수용인원 = n;
                    console.log("데이터 업데이트 완료");
                    
                } // else //
            }
            
        } // CGV class //

        ///////////////////////////////
        // MegaBox 영화 상영관 클래스 //
        //////////////////////////////
        class MegaBox extends MovieInfo{

            // 속성셋팅 생성자 메서드 필수
            // 기본적으로 부모 생성자 메서드 전달 변수 사용
            constructor(tit, sum, dir, act, des, msg, num){

                // super() 메서드: 부모 생성자, 메서드 호출
                super(tit, sum, dir, act, des);

                // MegaBox만의 개별 속성 만들기
                this.팝콘소식 = msg;
                this.상영관수 = num;
                
            } // 생성자 메서드 //

            // MegaBox만의 메서드 만들기
            // this.메서드()는 부모 클래스의 메서드(접근 가능)
            // super부모 메서드 -> 이 방법으로 부모 메서드 가져오기
            show(mm){

                // mm 부모 메서드에 전달값 변수
                return(
                    super.메서드(mm) +
                    ", MegaBox 팝콘 소식:" + this.팝콘소식
                );
                
            } // show 메서드 //

            // 겟터, 셋터 셋팅
            // 목적: 상영관수 속성값에 대한 유효성 검사
            get hallNum(){
                return this.상영관수;
            }

            // n - 셋팅값
            set hallNum(n){

                // 숫자가 아니면 걸러주기
                if(isNaN(n)){
                    n = 50;
                    console.log("데이터가 업데이트 되지 않았습니다.");
                } // if //

                else{

                    // 값 셋티옼드
                    this.상영관수 = n;
                    console.log("데이터 업데이트 완료");
                    
                } // else //
                
            }
            
        } // MegaBox class //

        // CGV 클래스로 객체 생성
        const cgv = new CGV(

            // 부모 클래스용 전달값
            "브이 포 벤데타",
            "액션, 드라마, SF, 스릴러",
            "제임스 맥티그",
            "나탈리 포트만",
            "재개봉 흥해라~",

            // 자식 클래스용 전달값(극장안내, 수용인원)
            "CGV는 항상 영화팬들과 함께합니다.",
            300

        ); // cgv 객체 생성 //

        // cgv 객체 확인
        console.log("cgv 객체 확인:",cgv);

        // 만들어진 데이터 화면에 뿌리기: 객체이므로 for in문 사용
        for(let x in cgv){
            document.write(`<h2>★ ${x}: ${cgv[x]}</h2>`);
        } // for in //

        // cgv 객체 메서드 호출: 상속된 부모 메서드와 함께 구현됨
        document.write(`<h2>♡ 메시지: ${cgv.show("Fighting CGV~")}</h2>`);

        // 극장 평균 수용인원 출력하기
        // 겟터, 셋터 만들기 전엔 cgv.수용인원
        // 만든 후엔 cgv.people 사용
        document.write(`
            <h2>
                ▣ CGV의 극장 평균 수용인원은 ${cgv.수용인원}명입니다. (2022년 기준)
            </h2>
        `)

        // 평균 수용이누언 속성의 값을 변경하기 위한 장치 필요
        // 셋팅은 setter, 읽기는 getter

        // setter로 셋팅
        cgv.people = 450;
        document.write(`
            <h2>
                ▣ CGV의 극장 평균 수용인원은 ${cgv.people}명입니다. (2023년 기준)
            </h2>
        `);

        // 구분선
        document.write("<hr>");

        // 메가박스 객체 생성
        const megabox = new MegaBox(

            // 부모 클래스 속성 전달값
            "스파이더맨: 노 웨이 홈",
            "액션/어드벤처/SF",
            "존 왓츠",
            "톰 홀랜드, 젠데이아 콜먼",
            "닥스도 나오는 스파이더맨",

            // 메가박스 클래스용 전달값
            "롤리팝과 먹는 새로운 롤리팝콘 출시!",
            50

        ); // megabox 객체 생성 /


            /// megabox 객체확인
            console.log("megabox객체확인: ", megabox);

            // 만들어진 객체 화면 출력 : 객체니까 for in문 사용
            for (let x in megabox) {
                document.write(`<h2>★${x}: ${megabox[x]}</h2>`);
            } // for in //

            // 객체 메서드 호출
            document.write(`<h2>♡ 메시지: ${megabox.show("역시 스파이더맨")}</h2>`);

            // 극장 상영관 수 출력하기
            document.write(
                `<h2>▣ MegaBox의 극장 상영관 수는 ${megabox.hallNum}개입니다. (2022년 기준)</h2>`
            );

            // 극장 평균 상영관수 2022년 변경분 화면 출력하기!
            // 셋터로 셋팅!
            megabox.hallNum = 100;
            document.write(

                // 겟터로 읽기!
                `<h2>▣ MegaBox의 극장 상영관 수는 ${megabox.hallNum}개입니다. (2023년 기준)</h2>`

            );

    </script>
</head>
<body>
    
</body>
</html>