<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>JS3-1. 제어문 - if문, switch case문, for문, while문</title>
        <!-- JS코드 구역 -->
        <script>
            /*************************************************
            함수명: jumsu
            기능: 점수에 따른 평가 출력하기
                1. 점수에 따른 메세지 출력
                2. 점수에 따른 메세지 글자색 변경
                3. 점수에 따른 칭찬스티커 보이기
        *************************************************/
            function jumsu() {
                // 함수는 코드를 저장하는 공간임
                // 어떤 값을 가져오거나 가지고 나갈 수 있음

                // 1. 함수를 만들고 처음 할 일은? 호출 확인!
                // console.log("점수요!");

                // 2. 대상 선정
                // 2-1. 점수 입력 요소: input#jumsu
                var jumsu = document.getElementById("jumsu");
                // getElementById(아이디명)

                // 2-2. 출력요소: #jexp
                var jexp = document.querySelector("#jexp");
                // querySelector(css선택자)

                // 2-3. 칭찬스티커: #jshow
                var show = document.querySelector("#jshow");

                // 3. 입력값 읽어오기
                var score = jumsu.value;
                // value 속성 - 입력된 값을 읽기/쓰기
                console.log("입력된값", score);
                // console.log("데이터형", typeof score);
                // type of(변수) -> 데이터형을 리턴함
                // 숫자든 문자든 입력데이터는 string형 즉, 문자형 데이터임
                // 아래 if문에서 숫자와 비교할 때 데이터형은 문자형이어도 내용이 숫자형이면 자동 변환하여 처리함
                // 예전엔 Number(문자형숫자)로 변환했었음

                /************************************************ 
                    [ 숫자 여부 판별 ]                
                    -> is Not a Number? isNaN()
                    -> 숫자가 아니니? 판별 내장함수는?
                    isNaN(변수)
                    -> 숫자가 아니면 true, 숫자면 false
                    -> 데이엍형이 String(문자)이어도 내용이 숫자이면 숫자로 판별한다.
                ************************************************/
               
                // 이볅된 값(score) 숫자 여부 판별
                console.log("숫자가 아니니?", isNaN(score));

                // 빈값 체크 if 문
                if(score === ""){
                    // 1. 평가 출력에 내용 출력하기: jexp
                    jexp.innerText = "내용을 입력해 주세요.";
                    return;
                } ////////// if ///////////

                else if(isNaN(score)){
                    // alert("숫자를 입력하세요.");
                    // 1. 평가 출력에 내용 출력하기: jexp
                    jexp.innerText = "숫자만 입력해 주세요.";

                    // 2. 글자색 초기화: jexp
                    jexp.style.color = "#000";

                    // 3. 칭찬스티커 초기화: jshow
                    jshow.style.backgroundPosition = "322px 0";

                    // 4. 입력창 내용 지우기: jumsu
                    jumsu.value = "";
                    // value 속성에 빈문자값을 넣으면 기존 내용이 지워짐

                    // 5. 입력창에 포커스 주기: jumsu
                    jumsu.focus();

                    // 함수에서 아래쪽 코드가 실행되지 않도록 함수를 여기에서 빠져나가게 하는 방법은?
                    // return 키워드를 사용한다.
                    // -> return은 함수에서 어떤 값을 함수를 호출한 곳으로 가져가거나 함수를 끝낼 때 사용한다.
                   return;
                }

                
                ///////// 변수 만들기 /////////
                // 메세지 변수
                var msg;
                // 글자색 변수
                var fc;
                // 배경 위치 변수
                var bgp;

                // 4. 메세지 만들기
                // 점수에 따른 메세지를 if문으로 작성한다.
                // if(true(1) / false(0))
                // if문의 소괄호 안이 true 일 때만 코드 실행됨
                // msg = "ㅋㅋ";

                // else if를 사용하면 범위지정이 필요없음
                if (score >= 90) {
                    msg = "매우 잘함";
                    fc = "lightblue";
                    bgp = "0 0";
                } else if (score >= 80) {
                    msg = "잘함";
                    fc = "lightpink";
                    bgp = "-322px 0";
                } else if (score >= 70) {
                    msg = "보통";
                    fc = "purple";
                    bgp = "-322px -322px";
                } else if (score >= 60) {
                    msg = "노력 요함";
                    fc = "lightgreen";
                    bgp = "0 -644px";
                } else {
                    msg = "재시험";
                    fc = "red";
                    bgp = "-644px -644px";
                }

                // console.log("글자색", fc, "\n배경위치:",bgp);
                // \n -> 역슬래쉬n은 엔터 기호임

                // else문을 끝에 사용할 경우 위의 조건에 모두 맞지 않으면 처리하게 됨
                // else문 때문에 msg는 반드시 할당값을 가지게 됨

                // if문을 else if 없이 따로 쓰려면 반드시 범위를 지정해야 함
                // 왜? 모든 if문을 검사하므로..

                /* if(score >=90){
                msg = "매우 잘함";
            }
            
            if(score >=80 && score < 90){
                msg = "잘함";
            }

            if(score >=70 && score < 80){
                msg = "보통";
            } */

                // if문 조건문에 undefined는 false 처리됨
                // if문 조건문에 일반적으로 선언 후 할당된 변수는 true 처리됨
                // 숫자나 일반값을 쓰면 true 처리됨
                // 동등비교연산자를 할당연산자로 쓰면 true 처리됨
                // if(aa=1)

                // msg에 할당하지 않고 선언만 한 경우
                // 값을 출력 시 undefined (정의되지 않은 값)
                // 이 나오는데 이것도 기본값 중 하나임

                // 5. 화면 출력: #jexp -> jexp 변수
                jexp.innerText = "평가결과는 " + msg;

                // 6. 글자색 변경: jexp의 style 중 color를 변경
                jexp.style.color = fc;
                // fc는 점수대별 글자색을 할당한 변수
                
                // 7. 칭찬스티커 배경위치 변경: #jshow -> jshow 변수
                jshow.style.backgroundPosition = bgp;
                // bgp는 배경이미지 위치값을 할당한 변수임

            } //////////// jumsu 함수 /////////////////////////

            /*************************************************
            [ if문 ]
            - 조건문을 검사하여 true면 중괄호 안의 코드가 실행되는 제어문

            - 조건문이란? 결과가 true / false 로 나오는 구문
            (조건문: 비교연산자, 논리연산자)

            ______________________________________________
            ((구문))

            if(조건문){
                실행코드
            }

           else if(조건문){
                실행코드
            }
            ...
            else{
                실행코드
            }
            ______________________________________________

            ((구문해석))
            1. if문은 단독으로 따로 사용 가능

            2. else if문은 if문 뒤에 또는 else if문 뒤에만 사용 가능함
            (else if로 시작 못함)
            -> 하나의 조건에 걸리면 다른 조건문엔 안 들어감
            -> 단독으로 else if문만 사용 불가

            3. else문은 모든 조건에 해당되지 않을 때 무조건 실행할 코드가 있을 경우 사용한다.
            -> if문 가장 끝에 사용한다.
            -> 단독으로 else문만 사용 불가
            
            ※ 참고: if문의 실행문이 하나이면 중괄호 생략 가능
                예)
                    if(aa>10){
                        my="ㅎㅎㅎ";
                    }

                    -> 위와 같음

                    if(aa>10) my = "ㅎㅎㅎ";

        *************************************************/
        </script>
        <style>
            /* 칭찬스티커 */
            #jshow {
                position: absolute;
                top: -17px;
                left: 131px;
                width: 322px;
                height: 322px;
                background: url(./images/ifshow.jpg) no-repeat;
                /* 배경이미지 포지션으로 이미지 변경하기
                -> 처음에 이미지가 안 보이게 함 */
                background-position: 322px 0;
                transform: scale(0.3);
                /* 트랜지션: 속시이지 */
                transition: all .4s ease-out;
            }

            /* ir(배경이미지 설명 숨기기) */
            .ir {
                display: block;
                width: 0;
                height: 0;
                overflow: hidden;
            }
        </style>
    </head>
    <body>
        <h1>JS 제어문</h1>
        <hr />
        <!-- if문 연습 -->
        <h2>if문 연습</h2>
        <h3 id="jexp">평가출력</h3>
        <label for="jumsu">점수 입력:</label>
        <input
            type="text"
            id="jumsu"
            placeholder="점수를 입력하세요."
            maxlength="3"
            onkeypress="if(event.keyCode===13){jumsu()}"
        />
        <!-- 버튼 클릭 시 클릭이벤트 속성과 미리 만든 함수를 연결한다. -->
        <button class="sbtn" onclick="jumsu()">평가하기</button>
        <!-- 
        [ onkeypress 이벤트 속성 ]
        키보드를 치면 발생하는 이벤트 속성

            * if조건문
            조건식: event.keyCode===13
            -> 엔터키의 키코드는 13번이다.
            -> 키보드의 키코드가 13번이냐? 엔터키 눌렀냐?
            -> true이면 jumsu()라는 함수를 호출해라

        참고) 키코드 참조: 아스키코드
        https://www.w3schools.com/charsets/ref_html_ascii.asp
     -->

        <!-- 
        [ laberl 요소 ]        
        iinput 요소의 설명 라벨 요소
        - for 속성: 클릭 시 아이디 input 요소로 포커스 이동

        [ input 요소: 입력 요소]
        - type="text" -> 글자 입력창
        - placeholder -> 안내문구 출력
        - maxlength -> 최대 입력 글자수 제한
     -->

        <!-- 칭찬스티커 -->
        <div id="jshow">
            <span class="ir">칭찬스티커</span>
        </div>
    </body>
</html>
